# [PackageDev] target_format: plist, ext: tmLanguage
---
name: TaskJuggler
scopeName: source.tjp3
fileTypes: [tjp3]
# Arbitrary UUID, until I figure out where this is used.
uuid: 24341012-fbff-4468-926e-348ed6563de2

macros:
  capturedID: (?:([a-zA-Z_][a-zA-Z0-9_]*)
  stringDoubleQuoted: \"(?:[^\"\\]|\\.)+\"
  stringSingleQuoted: \'(?:[^\'\\]|\\.)+\'
  capturedStringSingleLine: ({{stringDoubleQuoted}}|{{stringSingleQuoted}})

patterns:
- include: '#account'

repository:
  account:
    patterns:
    - name: meta.type.tjp3
      match: '\s*(account)\s+{{capturedID}}\s+)?{{capturedStringSingleLine}}'
      captures:
        '1': { name: storage.type.tjp3 }
        '2': { name: entity.name.type.tjp3 }
        '3': { name: string.quoted.tjp3 }
